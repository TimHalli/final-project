(this["webpackJsonpfinal-project"]=this["webpackJsonpfinal-project"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),r=c(8),i=c.n(r),o=c(4),s=c(7),l=c(2),d=(c(14),"jkUWxcNASMvcAkZHF5gjCe2IGh15ybHZ"),u="http://dataservice.accuweather.com/";function j(){var e=Object(a.useState)({name:"Tel Aviv",temp:0,fiveDays:[{day:"",temp:0}]}),t=Object(l.a)(e,2),c=t[0],r=t[1],i=Object(a.useState)(""),j=Object(l.a)(i,2),b=j[0],h=j[1],f=Object(a.useState)(""),m=Object(l.a)(f,2),O=m[0],v=m[1],p=Object(a.useState)(215854),x=Object(l.a)(p,2),y=x[0],g=x[1],w=Object(a.useState)([]),N=Object(l.a)(w,2),k=N[0],C=N[1],S=Object(a.useState)(!0),T=Object(l.a)(S,2),D=T[0],A=T[1],F=Object(a.useState)(!1),W=Object(l.a)(F,2),L=W[0],E=W[1],H=Object(a.useState)("table-primary"),z=Object(l.a)(H,2),I=z[0],M=z[1],B=Object(a.useState)(!0),J=Object(l.a)(B,2),P=J[0],U=J[1],V=function(e){k.some((function(t){return function(t){return t===e}(t)}))?C(k):(C([].concat(Object(s.a)(k),[e])),M("table-active"))};Object(a.useEffect)((function(){var e=fetch("".concat(u,"locations/v1/topcities/150?apikey=").concat(d)).then((function(e){return e.json()})).then((function(e){!function(e,t){var c,n,a=e.filter((function(c){return 0===t.length?e:c.LocalizedName.toLowerCase().indexOf(t.toLowerCase())>-1}));0===a.length?(c="Tel Aviv",n=215854):(c=a[0].LocalizedName,n=a[0].Key),v(c),g(n)}(e,b),e.map((function(e){e.LocalizedName===O&&r(Object(o.a)(Object(o.a)({},c),{},{name:e.LocalizedName}))}))})).catch((function(e){throw new Error("Could not fetch: ".concat(e,". The API you used has expired. You need to use the new API. You can do this at https://developer.accuweather.com/"))}));return function(){return e}}),[b,b]),Object(a.useEffect)((function(){var e,t=fetch((e=y,"".concat(u,"forecasts/v1/daily/5day/").concat(e,"?apikey=").concat(d))).then((function(e){return e.json()})).then((function(e){!function(e){for(var t,n,a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=[],s=0;s<5;s++)t=a[new Date(e.DailyForecasts[s].Date).getDay()],n=5*(e.DailyForecasts[s].Temperature.Maximum.Value-32)/9,i.push({day:t,temp:n.toFixed()});n=5*(e.DailyForecasts[0].Temperature.Maximum.Value-32)/9,r(Object(o.a)(Object(o.a)({},c),{},{name:O,temp:n.toFixed(),fiveDays:i}))}(e)})).catch((function(e){throw new Error("Could not fetch: ".concat(e))}));return function(){return t}}),[b,y]);var Y=Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("button",{onClick:function(e){return V(c)},type:"button",className:"btn btn-success",children:"Add To Favorites"}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),P?"Dhaka"===O?null:Object(n.jsx)("table",{className:"table table-hover",children:Object(n.jsx)("tbody",{children:Object(n.jsx)("tr",{className:I,children:Object(n.jsx)("th",{scope:"row",children:Object(n.jsx)("h1",{children:c.name})})})})}):null,Object(n.jsx)("input",{onChange:function(e){h((function(){return e.target.value})),U(!0);k.some((function(e){return function(e){return e.name===c.name}(e)}))?M("table-active"):M("table-primary")},className:"form-control form-control-lg",type:"text",placeholder:"Search for a city...",id:"inputLarge"})]}),Object(n.jsx)("div",{className:"card border-primary mb-3",style:{maxWidth:"20rem"},children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h4",{className:"card-title",children:"Dhaka"==O?"Tel Aviv":O}),Object(n.jsxs)("p",{className:"card-text",children:[c.temp,"C"]})]})}),Object(n.jsx)("h1",{children:"Scattered Clouds"}),Object(n.jsx)("div",{style:{display:"flex"},children:c.fiveDays.map((function(e,t){return Object(n.jsx)("div",{className:"card border-primary mb-3",style:{maxWidth:"20rem"},children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h4",{className:"card-title",children:e.day}),Object(n.jsxs)("p",{className:"card-text",children:[e.temp,"C"]})]})},t)}))})]})}),Z=Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"Favorites"}),Object(n.jsx)("div",{style:{display:"flex"},children:k?k.map((function(e,t){return Object(n.jsx)("div",{children:Object(n.jsx)("div",{style:{display:"flex"},children:Object(n.jsxs)("div",{className:"card border-success  mb-3",style:{maxWidth:"20rem"},children:[Object(n.jsx)("div",{className:"card-header",children:Object(n.jsx)("h1",{onClick:function(){return function(e){var t=Object(s.a)(k);t.splice(e,1),C(t)}(t)},children:"\xd7"})}),Object(n.jsxs)("div",{onClick:function(){return function(e){return A(!0),E(!1),h(e.name),U(!1),r(e),e}(e)},className:"card-body",children:[Object(n.jsx)("h3",{className:"card-title",children:e.name}),Object(n.jsxs)("h4",{className:"card-text",children:[e.temp,"C"]})]})]})})},t+e.name)})):null})]});return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),"\xa0",Object(n.jsx)("button",{onClick:function(){A(!0),E(!1)},type:"button",className:"btn btn-primary",children:"Home"}),"\xa0",Object(n.jsx)("button",{onClick:function(){E(!0),A(!1)},type:"button",className:"btn btn-primary",children:"Favorites"}),"\xa0",Object(n.jsx)("hr",{})]}),D?Y:null,L?Z:null]})}var b=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(Object(n.jsx)(j,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/TimHalli/final-project.git",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/TimHalli/final-project.git","/service-worker.js");b?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):h(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):h(e)}))}}()}},[[15,1,2]]]);
//# sourceMappingURL=main.fa28034f.chunk.js.map